angular.module("app",["ui.router"]).controller("myrController",["$scope",function(t){t.title="webApp",t.navTitle="首页",t.type="home",t.$on("tabBar",function(e,o){t.$broadcast("nav",o)})}]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","http://127.0.0.1/Angular/webApp/**"])}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("app",{url:"/",views:{home:{templateUrl:"../views/home_tpl.html",controller:"homeController"},author:{templateUrl:"../views/author_tpl.html",controller:"authorController"},content:{templateUrl:"../views/content_tpl.html",controller:"contentController"},my:{templateUrl:"../views/me_tpl.html",controller:"meController"}}}),e.otherwise("/")}]),angular.module("app").controller("authorController",["$scope","$http",function(t,e){e({url:"http://127.0.0.1/Angular/webApp/author.php/",method:"jsonp"}).then(function(e){t.listDate=e.data.authors}).catch(function(t){console.log(t)}),e({url:"http://127.0.0.1/Angular/webApp/author_2.php/",method:"jsonp"}).then(function(e){t.listDate2=e.data.authors}).catch(function(t){console.log(t)})}]),angular.module("app").controller("contentController",["$scope","$http",function(t,e){e({url:"http://127.0.0.1/Angular/webApp/content.php/",method:"jsonp"}).then(function(e){t.listDate=e.data.columns}).catch(function(t){console.log(t)})}]),angular.module("app").controller("homeController",["$scope","$http",function(t,e){e({url:"http://127.0.0.1/Angular/webApp/home.php/",method:"jsonp"}).then(function(e){t.listDate=e.data.posts}).catch(function(t){console.log(t)})}]),angular.module("app").controller("meController",["$scope","$http",function(t,e){e({url:"http://127.0.0.1/Angular/webApp/me.php/",method:"jsonp"}).then(function(e){console.log(e.data.posts),t.listDate=e.data}).catch(function(t){console.log(t)})}]),angular.module("app").directive("navs",function(){return{restrict:"EA",templateUrl:"../views/nav_tpl.html",link:function(t,e,o){t.$on("nav",function(o,n){switch(t.type=n.type,t.type){case"home":navTitle="首页";break;case"author":navTitle="作者";break;case"content":navTitle="栏目";break;case"my":navTitle="我的"}e.find("span").html(navTitle)})}}}),angular.module("app").directive("tabar",function(){return{restrict:"EA",templateUrl:"../views/tabBar_tpl.html",link:function(t,e,o){t.changeNav=function(e){t.$emit("tabBar",{type:e})}}}});